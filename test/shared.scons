Import('*')

sources = Split('''
    testAnimationCompression.cpp
    testBone.cpp
    testCoreSkeleton.cpp
    testCoreTrack.cpp
    testLoader.cpp
    testMemory.cpp
    testMixer.cpp
    testPhysique.cpp
    testSubmesh.cpp
    testTinyXml.cpp
    testVector.cpp
''')

# Build the unit tests.

env = env.Clone(tools=['cal3d', 'boost_test', python, 'testframework'])
env.Append(CPPPATH=['../../..',
                    '../../../avatarwindow'])

imvu_test_program(
    env,
    'test_cal3d${IMVU_LIBRARY_SUFFIX}',
    [ env.Object('TestFrameworkMain', '#/Source/TestFramework/TestFrameworkMain.cpp'),
      env.Object('StubFrameworkTeardown', '#/Source/TestFramework/StubFrameworkTeardown.cpp'),
      sources ])
